"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[329],{40329:(e,n,r)=>{r.r(n),r.d(n,{DashBoard:()=>H,DashBoardOrigin:()=>Y});var t=r(40366),o=r.n(t),a=r(12391);const l=(0,a.makeStyles)((function(e){return{"panel-dash-board":{display:"flex",flexDirection:"column",rowGap:"8px",height:"100%",width:"100%",minWidth:"380px",padding:"16px",background:e.components.dashBoard.bgColor},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}));var i=r(60346),s=r(46533);const c=(0,a.makeStyles)((function(e){return{"dashboard-drive-mode":{display:"flex",flex:"1",justifyContent:"center",alignItems:"center",background:e.components.dashBoard.cardBgColor,borderRadius:"6px",fontFamily:"PingFangSC-Semibold",fontSize:"14px",color:e.components.dashBoard.color,fontWeight:600,height:"100%"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}));var d=function(e){return e.MANUAL="MANUAL",e.AUTO="AUTO",e.DISENGAGED="DISENGAGED",e.AUTO_STEER="AUTO STEER",e.AUTO_SPEED="AUTO SPEED",e.CHASSIS_ERROR="CHASSIS ERROR",e.UNKNOWN="UNKNOWN",e}({});function u(e){var n=c().classes;return o().createElement("div",{className:n["dashboard-drive-mode"]},e.mode)}const m=o().memo(u),g=(0,a.makeStyles)((function(e){return{"dash-board-signal-gear":{display:"flex",flexDirection:"row",flex:"1",columnGap:"10px",height:"100%",width:"100%"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}));var f=r(85322);const h=(0,a.makeStyles)((function(e){return{"dashboard-signal":{display:"flex",flex:"1",justifyContent:"center",alignItems:"center",background:e.components.dashBoard.cardBgColor,borderRadius:"6px",fontFamily:"PingFangSC-Semibold",fontSize:"14px",color:e.components.dashBoard.color,fontWeight:600,width:"100%",height:"100%"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}));function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}var E=function(e){return e.NO_SIGNALS="NO SIGNALS",e.UNKNOWN="UNKNOWN",e.RED="RED",e.YELLOW="YELLOW",e.GREEN="GREEN",e}({});function v(e){var n,r,a=h().classes,l=(n=(0,f.XE)(["icon_green_light","icon_yellow_light","icon_red_light"]),r=3,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a,l,i=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;s=!1}else for(;!(s=(t=a.call(r)).done)&&(i.push(t.value),i.length!==n);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return i}}(n,r)||function(e,n){if(e){if("string"==typeof e)return p(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=l[0],s=l[1],c=l[2],d=(0,t.useMemo)((function(){switch(e.signal){case E.GREEN:return o().createElement(o().Fragment,null,o().createElement("img",{style:{width:18,height:18},src:i,alt:"green light"})," GREEN");case E.YELLOW:return o().createElement(o().Fragment,null,o().createElement("img",{style:{width:18,height:18},src:s,alt:"yellow light"})," YELLOW");case E.RED:return o().createElement(o().Fragment,null,o().createElement("img",{style:{width:18,height:18},src:c,alt:"green light"})," RED");case E.UNKNOWN:return o().createElement(o().Fragment,null,"UNKNOWN");default:return o().createElement(o().Fragment,null,"NO SIGNALS")}}),[e]);return o().createElement("div",{className:a["dashboard-signal"]},d)}const b=o().memo(v),S=(0,a.makeStyles)((function(e){return{"dashboard-gear":{display:"flex",flex:"1",justifyContent:"space-between",alignItems:"center",columnGap:"15px",background:e.components.dashBoard.cardBgColor,borderRadius:"6px",fontFamily:"PingFangSC-Semibold",fontSize:"14px",color:e.components.dashBoard.color,fontWeight:600,width:"100%",height:"100%"},"dashboard-gear-position":{width:"24px",height:"24px",lineHeight:"24px",textAlign:"center"},"dashboard-gear-position-active":{width:"24px",height:"24px",borderRadius:"4px",background:"#3288FA",color:"#fff",lineHeight:"24px",textAlign:"center"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}));var N=function(e){return e.P="P",e.R="R",e.D="D",e.N="N",e}({});function y(e){switch(e){case"GEAR_PARKING":return N.P;case"GEAR_REVERSE":return N.R;case"GEAR_DRIVE":return N.D;default:return N.N}}function A(e){var n=S().classes;return o().createElement("div",{className:n["dashboard-gear"]},o().createElement("div",{style:{marginLeft:12},className:y(null==e?void 0:e.gearPosition)===N.P?n["dashboard-gear-position-active"]:n["dashboard-gear-position"]},"P"),o().createElement("div",{className:y(null==e?void 0:e.gearPosition)===N.R?n["dashboard-gear-position-active"]:n["dashboard-gear-position"]},"R"),o().createElement("div",{className:y(null==e?void 0:e.gearPosition)===N.D?n["dashboard-gear-position-active"]:n["dashboard-gear-position"]},"D"),o().createElement("div",{style:{marginRight:12},className:y(null==e?void 0:e.gearPosition)===N.N?n["dashboard-gear-position-active"]:n["dashboard-gear-position"]},"N"))}const x=o().memo(A);function D(e){var n=g().classes;return o().createElement("div",{className:n["dash-board-signal-gear"]},o().createElement(b,{signal:null==e?void 0:e.color}),o().createElement(x,{gearPosition:null==e?void 0:e.gearPosition}))}const R=o().memo(D),G=(0,a.makeStyles)((function(e){return{"dash-board-speed-rotation":{display:"flex",flexDirection:"row",flex:"4.625",columnGap:"10px"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}})),I=(0,a.makeStyles)((function(e){return{"dashboard-speed-info":{display:"flex",flex:"1",flexDirection:"column",justifyContent:"center",alignItems:"center",background:e.components.dashBoard.cardBgColor,borderRadius:"6px",fontFamily:"PingFangSC-Semibold",fontSize:"14px",color:e.components.dashBoard.lightFontColor,width:"100%",height:"100%",paddingBottom:"16px"},"dashboard-speed-info-font":{height:"35px",fontFamily:"DINAlternate-Bold",fontSize:"30px",color:e.components.dashBoard.color,textAlign:"center"},"dashboard-speed-info-font-small":{height:"18px",fontFamily:"PingFangSC-Regular",fontSize:"12px",color:"#808B9D"},"dashboard-speed-brake":{display:"flex",justifyContent:"space-between"},"dashboard-speed-brake-words":{fontFamily:"PingFangSC-Regular",fontSize:"12px",color:"#A6B5CC"},"dashboard-speed-brake-number":{fontFamily:"PingFangSC-Regular",fontSize:"12px",color:"#808B9D"},"dashboard-speed-acc":{display:"flex",justifyContent:"space-between"},"dashboard-speed-acc-words":{fontFamily:"PingFangSC-Regular",fontSize:"12px",color:"#A6B5CC"},"dashboard-speed-acc-number":{fontFamily:"PingFangSC-Regular",fontSize:"12px",color:"#808B9D"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}));function k(e){return parseFloat(e.toFixed(1))}function C(e){var n,r=I().classes,t=(0,a.useThemeContext)().tokens;return o().createElement("div",{className:r["dashboard-speed-info"]},o().createElement("div",{style:{marginTop:10,marginBottom:10}},o().createElement("div",{className:r["dashboard-speed-info-font"]},void 0===(n=null==e?void 0:e.speed)||Number.isNaN(n)?0:Math.round(3.6*n)),o().createElement("span",{className:r["dashboard-speed-info-font-small"]},"Speed(km/h)")),o().createElement("div",{style:{height:"60px",width:"100%"}},o().createElement("div",{style:{width:"100%",padding:"0 16px 6px",height:"30px"}},o().createElement("div",{className:r["dashboard-speed-brake"]},o().createElement("span",{className:r["dashboard-speed-brake-words"]},"Brake"),o().createElement("span",{className:r["dashboard-speed-brake-number"]},"".concat(null!=e&&e.brakePercent?k(null==e?void 0:e.brakePercent):0,"%"))),o().createElement(f.ke,{style:{top:-6},strokeColor:"#F75660",trailColor:t.components.dashBoard.progressBgColor,strokeLinecap:"butt",percent:null!=e&&e.brakePercent?k(null==e?void 0:e.brakePercent):0,showInfo:!1})),o().createElement("div",{style:{width:"100%",padding:"0 16px 6px",height:"30px"}},o().createElement("div",{className:r["dashboard-speed-acc"]},o().createElement("span",{className:r["dashboard-speed-acc-words"]},"Accelerator"),o().createElement("span",{className:r["dashboard-speed-acc-number"]},"".concat(null!=e&&e.throttlePercent?k(null==e?void 0:e.throttlePercent):0,"%"))),o().createElement(f.ke,{style:{top:-6},strokeColor:"#3288FA",trailColor:t.components.dashBoard.progressBgColor,strokeLinecap:"butt",percent:null!=e&&e.throttlePercent?k(null==e?void 0:e.throttlePercent):0,showInfo:!1}))))}const w=o().memo(C),P=(0,a.makeStyles)((function(e){return{"dashboard-rotation-info":{display:"flex",flex:"1",flexDirection:"column",justifyContent:"center",alignItems:"center",background:e.components.dashBoard.cardBgColor,borderRadius:"6px",fontFamily:"PingFangSC-Semibold",fontSize:"14px",color:e.components.dashBoard.lightFontColor,fontWeight:600,width:"100%",height:"100%",paddingBottom:"16px"},"dashboard-rotation-info-font":{height:"35px",fontFamily:"DINAlternate-Bold",fontSize:"30px",color:e.components.dashBoard.color,textAlign:"center"},"dashboard-rotation-info-font-small":{height:"18px",fontFamily:"PingFangSC-Regular",fontSize:"12px"},"dashboard-rotation-info-wheel":{display:"flex",alignItems:"center",height:"60px"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}));function O(e){var n=P().classes,r=(0,f.XE)("ic_aiming_circle"),a=(0,t.useMemo)((function(){return"LEFT"===(null==e?void 0:e.turnSignal)||"EMERGENCY"===(null==e?void 0:e.turnSignal)}),[null==e?void 0:e.turnSignal]),l=(0,t.useMemo)((function(){return"RIGHT"===(null==e?void 0:e.turnSignal)||"EMERGENCY"===(null==e?void 0:e.turnSignal)}),[null==e?void 0:e.turnSignal]),i=(0,t.useMemo)((function(){return void 0===(null==e?void 0:e.steeringPercentage)||Number.isNaN(null==e?void 0:e.steeringPercentage)?0:Math.round(null==e?void 0:e.steeringPercentage)}),[null==e?void 0:e.steeringPercentage]),s=(0,t.useMemo)((function(){return void 0===(null==e?void 0:e.steeringAngle)||Number.isNaN(null==e?void 0:e.steeringAngle)?0:-Math.round(180*(null==e?void 0:e.steeringAngle)/Math.PI)}),[null==e?void 0:e.steeringAngle]);return o().createElement("div",{className:n["dashboard-rotation-info"]},o().createElement("div",{style:{marginTop:10,marginBottom:10}},o().createElement("div",{className:n["dashboard-rotation-info-font"]},"".concat(i,"%")),o().createElement("span",{className:n["dashboard-rotation-info-font-small"]},"Rotation Ratio")),o().createElement("div",{className:n["dashboard-rotation-info-wheel"]},o().createElement(f.Av,{name:"IcLeftTurnDefault",className:a?"turn-signal":"",style:{fontSize:16}}),o().createElement("img",{style:{marginLeft:10,marginRight:10,width:60,height:60,transform:"rotate(".concat(s,"deg)")},src:r,alt:""}),o().createElement(f.Av,{name:"IcDextroversionHighlight",className:l?"turn-signal":"",style:{fontSize:16}})))}const _=o().memo(O);function B(e){var n,r,t,a,l,i,s=G().classes;return o().createElement("div",{className:s["dash-board-speed-rotation"]},o().createElement(w,{speed:null==e||null===(n=e.speedInfo)||void 0===n?void 0:n.speed,throttlePercent:null==e||null===(r=e.speedInfo)||void 0===r?void 0:r.throttlePercent,brakePercent:null==e||null===(t=e.speedInfo)||void 0===t?void 0:t.brakePercent}),o().createElement(_,{steeringPercentage:null==e||null===(a=e.rotationInfo)||void 0===a?void 0:a.steeringPercentage,steeringAngle:null==e||null===(l=e.rotationInfo)||void 0===l?void 0:l.steeringAngle,turnSignal:null==e||null===(i=e.rotationInfo)||void 0===i?void 0:i.turnSignal}))}const F=o().memo(B);var L=r(83517),U=r(27878);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}var W=function(e){return e.DISENGAGE_NONE="DISENGAGE_NONE",e[e.DISENGAGE_UNKNOWN=1]="DISENGAGE_UNKNOWN",e.DISENGAGE_MANUAL="DISENGAGE_MANUAL",e.DISENGAGE_EMERGENCY="DISENGAGE_EMERGENCY",e.DISENGAGE_AUTO_STEER_ONLY="DISENGAGE_AUTO_STEER_ONLY",e.DISENGAGE_AUTO_SPEED_ONLY="DISENGAGE_AUTO_SPEED_ONLY",e.DISENGAGE_CHASSIS_ERROR="DISENGAGE_CHASSIS_ERROR",e}(W||{});function j(e){switch(e){case W.DISENGAGE_MANUAL:return d.MANUAL;case W.DISENGAGE_NONE:return d.AUTO;case W.DISENGAGE_EMERGENCY:return d.DISENGAGED;case W.DISENGAGE_AUTO_STEER_ONLY:return d.AUTO_STEER;case W.DISENGAGE_AUTO_SPEED_ONLY:return d.AUTO_SPEED;case W.DISENGAGE_CHASSIS_ERROR:return d.CHASSIS_ERROR;default:return d.UNKNOWN}}function z(){var e,n,r,a,i,c,d,u,g,f,h,p=(0,L.d)().initSubscription,E=(f=(0,t.useState)({}),h=2,function(e){if(Array.isArray(e))return e}(f)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a,l,i=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;s=!1}else for(;!(s=(t=a.call(r)).done)&&(i.push(t.value),i.length!==n);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return i}}(f,h)||function(e,n){if(e){if("string"==typeof e)return M(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,n):void 0}}(f,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=E[0],b=E[1],S=(0,t.useMemo)((function(){return{autoDrivingCar:null==v?void 0:v.autoDrivingCar,trafficSignal:null==v?void 0:v.trafficSignal}}),[v]),N=l().classes;return(0,t.useEffect)((function(){p(function(e,n,r){return(n=function(e){var n=function(e){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}({},s.lt.SIM_WORLD,{consumer:function(e){b(e)}}))}),[]),o().createElement(U.A,{className:N["panel-dash-board"]},o().createElement(m,{mode:j(null==S||null===(e=S.autoDrivingCar)||void 0===e?void 0:e.disengageType)}),o().createElement(R,{color:null==S||null===(n=S.trafficSignal)||void 0===n?void 0:n.currentSignal,gearPosition:null==S||null===(r=S.autoDrivingCar)||void 0===r?void 0:r.gearLocation}),o().createElement(F,{speedInfo:{speed:null==S||null===(a=S.autoDrivingCar)||void 0===a?void 0:a.speed,throttlePercent:null==S||null===(i=S.autoDrivingCar)||void 0===i?void 0:i.throttlePercentage,brakePercent:null==S||null===(c=S.autoDrivingCar)||void 0===c?void 0:c.brakePercentage},rotationInfo:{steeringPercentage:null==S||null===(d=S.autoDrivingCar)||void 0===d?void 0:d.steeringPercentage,steeringAngle:null==S||null===(u=S.autoDrivingCar)||void 0===u?void 0:u.steeringAngle,turnSignal:null==S||null===(g=S.autoDrivingCar)||void 0===g?void 0:g.currentSignal}}))}function Y(e){var n=(0,t.useMemo)((function(){return(0,i.A)({PanelComponent:z,panelId:e.panelId,subscribeInfo:[{name:s.lt.SIM_WORLD,needChannel:!1}]})}),[]);return o().createElement(n,e)}z.displayName="DashBoard";var H=o().memo(Y)}}]);