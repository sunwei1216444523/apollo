"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[298],{32527:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var r=n(21902),o=n(22770),i=n(60709),a=n(54067),c=n(44606);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){return(0,c.BH)((function(e){return{"panel-console-root":{padding:e.tokens.padding.speace2,height:"100%",width:"100%"},"panel-console-inner":{minWidth:"244px"},"panel-console-monitor":{display:"flex",marginBottom:"10px","&:last-of-type":{marginBottom:"0"}},"panel-console-monitor-icon":{display:"flex",marginTop:"2px",fontSize:e.tokens.font.size.large},"panel-console-monitor-text":s(s({marginLeft:e.tokens.margin.speace,marginRight:e.tokens.margin.speace2},e.tokens.typography.content),{},{flex:1}),"panel-console-monitor-time":{whiteSpace:"nowrap"},"panel-console-monitor-item":{},error:{color:e.tokens.colors.error},info:{color:e.tokens.colors.brand2},warn:{color:e.tokens.colors.warn}}}))()}var p,h,d=n(52007),m=n(58938),v=n(4492),y=n(86944);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){return e.ERROR="ERROR",e.FATAL="FATAL",e.FAIL="FAIL",e.SUCCESS="SUCCESS",e.UNKNOWN="UNKNOWN",e}(E||{}),R=(S(p={},E.ERROR,"error"),S(p,E.FATAL,"error"),S(p,E.FAIL,"error"),S(p,E.SUCCESS,"info"),S(p,E.UNKNOWN,"warn"),p),j=(S(h={},E.ERROR,r.createElement(o.Pv,null)),S(h,E.FATAL,r.createElement(o.Pv,null)),S(h,E.FAIL,r.createElement(o.Pv,null)),S(h,E.SUCCESS,r.createElement(o.SF,null)),S(h,E.UNKNOWN,r.createElement(o.SF,null)),h);function P(e){var t=f(),n=t.classes,i=t.cx,a=e.level,c=e.text,l=e.time,u=j[a]||r.createElement(o.SF,null),s=R[a]||"warn";return r.createElement("li",{className:i(n["panel-console-monitor"],n[s])},r.createElement("span",{className:n["panel-console-monitor-icon"]},u),r.createElement("span",{className:n["panel-console-monitor-text"]},c),r.createElement("span",{className:n["panel-console-monitor-time"]},l))}var A=r.memo(P);function k(){var e=(0,d.R)(),t=(e.data,e.initSubscription),n=(e.setKeyDownHandlers,g((0,r.useState)([]),2)),o=n[0],c=n[1],l=g((0,r.useState)(),2),u=l[0],s=l[1];(0,a.$G)("panels").t,(0,r.useEffect)((function(){t(S({},m.DU.SIM_WORLD,{consumer:function(e){s(e)}}))}),[]),(0,r.useEffect)((function(){var e;null==u||null===(e=u.notification)||void 0===e||e.forEach((function(e){!function(e){c((function(t){var n,r=[e].concat(function(e){if(Array.isArray(e))return O(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||w(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return r.length>29&&r.pop(),r}))}({level:e.item.logLevel,text:e.item.msg,time:(0,i.X)(1e3*e.timestampSec)})}))}),[u]);var p=f().classes;return r.createElement(y.Z,{className:p["panel-console-root"]},r.createElement("div",{className:p["panel-console-inner"]},o.map((function(e,t){return r.createElement(A,{key:t+1,text:e.text,level:e.level,time:e.time})}))))}function N(e){var t=(0,r.useMemo)((function(){return(0,v.Z)({PanelComponent:k,panelId:e.panelId,subscribeInfo:[{name:m.DU.SIM_WORLD,needChannel:!1}]})}),[]);return r.createElement(t,e)}k.displayName="InternalConsole";const M=r.memo(N)},60709:(e,t,n)=>{function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Number(e);if(r>Math.pow(10,t-1))return String(r);var o="0".repeat(t-String(r).length);if("number"!=typeof r)throw new Error("fill0 recived an invidate value");return n?"".concat(o).concat(r):"".concat(r).concat(o)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(e),o=r(n.getHours()),i=r(n.getMinutes()),a=r(n.getSeconds()),c=r(n.getMilliseconds(),3),l="".concat(o,":").concat(i,":").concat(a);return t&&(l+=":".concat(c)),l}n.d(t,{$5:()=>r,VY:()=>c,X:()=>o});var i=1e3,a=6e4;function c(e){var t=r(Math.floor(e%1e3),3),n=r(Math.floor(e/i%60)),o=r(Math.floor(e/a));return"".concat(o,":").concat(n,".").concat(t)}},57795:(e,t,n)=>{n.d(t,{NB:()=>m});var r=n(21902),o=n(5350),i=n(59741),a=n.n(i),c=n(35220),l=n.n(c),u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},u(e,t)};var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};var f=function(e,t,n,r){switch(t){case"debounce":return a()(e,n,r);case"throttle":return l()(e,n,r);default:return e}},p=function(e){return"function"==typeof e},h=function(){return"undefined"==typeof window},d=function(e){return e instanceof Element||e instanceof HTMLDocument};function m(e){var t=void 0===e?{}:e,n=t.skipOnMount,o=void 0!==n&&n,i=t.refreshMode,a=t.refreshRate,c=void 0===a?1e3:a,l=t.refreshOptions,u=t.handleWidth,p=void 0===u||u,h=t.handleHeight,d=void 0===h||h,m=t.targetRef,v=t.observerOptions,y=t.onResize,b=(0,r.useRef)(o),g=(0,r.useState)({width:void 0,height:void 0}),w=g[0],O=g[1],S=(0,r.useState)((null==m?void 0:m.current)||null),E=S[0],R=S[1];m&&setTimeout((function(){m.current!==E&&R(m.current)}),0);var j=(0,r.useCallback)((function(e){e!==E&&R(e)}),[E]);j.current=E,(0,r.useEffect)((function(){return function(){R(null),j.current=null}}),[]);var P=(0,r.useCallback)((function(e,t){return(e.width!==t.width||e.height!==t.height)&&!(e.width===t.width&&!d||e.height===t.height&&!p)}),[p,d]),A=(0,r.useCallback)((function(e){(p||d)&&(b.current?b.current=!1:e.forEach((function(e){var t=(null==e?void 0:e.contentRect)||{},n=t.width,r=t.height;O((function(e){return P(e,{width:n,height:r})?{width:n,height:r}:e}))})))}),[p,d,b,P]),k=(0,r.useCallback)(f(A,i,c,l),[A,i,c,l]);return(0,r.useEffect)((function(){var e;return E?(e=new window.ResizeObserver(k)).observe(E,v):(w.width||w.height)&&O({width:void 0,height:void 0}),function(){var t,n,r;null===(t=null==e?void 0:e.disconnect)||void 0===t||t.call(e),null===(r=(n=k).cancel)||void 0===r||r.call(n)}}),[k,E]),(0,r.useEffect)((function(){null==y||y(w.width,w.height)}),[w]),s({ref:j},w)}!function(e){function t(t){var n=e.call(this,t)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var e=n.props,t=e.targetRef,r=e.observerOptions;if(!h()){t&&t.current&&(n.targetRef.current=t.current);var o=n.getElement();o&&(n.observableElement&&n.observableElement===o||(n.observableElement=o,n.resizeObserver.observe(o,r)))}},n.getElement=function(){var e=n.props,t=e.querySelector,r=e.targetDomEl;if(h())return null;if(t)return document.querySelector(t);if(r&&d(r))return r;if(n.targetRef&&d(n.targetRef.current))return n.targetRef.current;var i=(0,o.findDOMNode)(n);if(!i)return null;switch(n.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return i;default:return i.parentElement}},n.createResizeHandler=function(e){var t=n.props,r=t.handleWidth,o=void 0===r||r,i=t.handleHeight,a=void 0===i||i,c=t.onResize;(o||a)&&e.forEach((function(e){var t=e&&e.contentRect||{},r=t.width,i=t.height;!n.skipOnMount&&!h()&&function(e){var t=e.width,r=e.height;n.state.width===t&&n.state.height===r||n.state.width===t&&!a||n.state.height===r&&!o||(null==c||c(t,r),n.setState({width:t,height:r}))}({width:r,height:i}),n.skipOnMount=!1}))},n.getRenderType=function(){var e=n.props,t=e.render,o=e.children;return p(t)?"renderProp":p(o)?"childFunction":(0,r.isValidElement)(o)?"child":Array.isArray(o)?"childArray":"parent"};var i=t.skipOnMount,a=t.refreshMode,c=t.refreshRate,l=void 0===c?1e3:c,u=t.refreshOptions;return n.state={width:void 0,height:void 0},n.sizeRef={current:n.state},n.skipOnMount=i,n.targetRef=(0,r.createRef)(),n.observableElement=null,h()||(n.resizeHandler=f(n.createResizeHandler,a,l,u),n.resizeObserver=new window.ResizeObserver(n.resizeHandler)),n}(function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver(),this.sizeRef.current=this.state},t.prototype.componentWillUnmount=function(){h()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e=this.props,t=e.render,n=e.children,o=e.nodeType,i=void 0===o?"div":o,a=this.state,c={width:a.width,height:a.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return null==t?void 0:t(c);case"childFunction":return null==n?void 0:n(c);case"child":var l=n;if(l.type&&"string"==typeof l.type){var u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(c,["targetRef"]);return(0,r.cloneElement)(l,u)}return(0,r.cloneElement)(l,c);case"childArray":return n.map((function(e){return!!e&&(0,r.cloneElement)(e,c)}));default:return r.createElement(i,null)}}}(r.PureComponent)}}]);